<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Stock Tracker | Jed Leas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./index.css" /> 
  <style>
    body {
      background: var(--black);
      color: var(--white-1);
      font-family: var(--font-stack);
    }

    .project-container {
      max-width: 1000px;
      margin: 6rem auto;
      padding: 3rem;
      background: rgba(20,20,20,0.7);
      border-radius: 1.2rem;
      backdrop-filter: blur(12px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.6);
    }

    .project-container h2 {
      color: var(--white);
      font-size: var(--font-size-large);
    }

    .project-container p {
      font-size: var(--font-size-small);
      max-width: 800px;
    }

    /* Carousel */
    .carousel {
      position: relative;
      overflow: hidden;
      border-radius: 1rem;
      margin: 3rem 0;
    }

    .carousel-track {
      display: flex;
      transition: transform 0.6s ease-in-out;
      width: 100%;
    }

    .carousel-image {
      min-width: 100%;
      height: 500px;
      object-fit: cover;
      cursor: pointer;
    }

    /* click zones for left/right navigation */
    .carousel::before,
    .carousel::after {
      content: "";
      position: absolute;
      top: 0;
      bottom: 0;
      width: 50%;
      z-index: 2;
    }
    .carousel::before { left: 0; }
    .carousel::after { right: 0; }

    /* Thumbnails */
    .thumbnails {
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .thumbnail {
      height: 80px;
      width: 120px;
      object-fit: cover;
      border-radius: 0.5rem;
      cursor: pointer;
      opacity: 0.6;
      transition: all 0.3s;
    }

    .thumbnail.active,
    .thumbnail:hover {
      opacity: 1;
      transform: scale(1.05);
      border: 2px solid var(--pink);
    }

    /* Back button */
    .back-button {
      position: fixed;
      bottom: 3rem;
      left: 3rem;
      width: 55px;
      height: 55px;
      border-radius: 50%;
      background: var(--pink);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
      transition: transform 0.3s ease;
      z-index: 50;
    }
    .back-button img {
      width: 28px;
      height: 28px;
      filter: invert(1);
      transform: rotate(-0.25turn);
    }
    .back-button:hover {
      transform: scale(1.1);
    }
  </style>
</head>
<body>

  <div class="project-container">
    <h2>Stock Tracker</h2>
    <p>
      Delivers daily portfolio performance updates straight to my phone at both the opening and closing of the US stock market. Each weekday it sends a notification to my phone showing my total unrealised return, the highest mover of the day, and the overall value of my portfolio. The hosted web app lets me log trades (Password Protected) and view holdings instantly from any device. Powered by PythonAnywhere (hosting), CronJobs (scheduling), and Pushover (notifications).
    </p>

    <div class="work__links" style="margin:2rem 0;">
      <a href="https://jedl.pythonanywhere.com/holdings" target="_blank" class="link__text">Holdings Website <span>&rarr;</span></a>
    </div>

    <!-- Carousel -->
    <div class="carousel" id="carousel">
      <div class="carousel-track">
        <img src="./images/project2-1.png" class="carousel-image" alt="Project Image 1">
        <img src="./images/project2-2.png" class="carousel-image" alt="Project Image 2">
        <img src="./images/project2-3.png" class="carousel-image" alt="Project Image 3">
        <img src="./images/project2-4.png" class="carousel-image" alt="Project Image 4">
        <img src="./images/project2-5.png" class="carousel-image" alt="Project Image 5">
      </div>
    </div>

    <!-- Thumbnails -->
    <div class="thumbnails">
      <img src="./images/project2-1.png" class="thumbnail active" data-index="0">
      <img src="./images/project2-2.png" class="thumbnail" data-index="1">
      <img src="./images/project2-3.png" class="thumbnail" data-index="2">
      <img src="./images/project2-4.png" class="thumbnail" data-index="3">
      <img src="./images/project2-5.png" class="thumbnail" data-index="4">
    </div>
  </div>

  <!-- Back Button -->
  <a href="https://jedleas.github.io/#work2" class="back-button" title="Back to Portfolio">
    <img src="./images/arrow-up.svg" alt="Back"/>
  </a>

  <script>
    (function() {
      const track = document.querySelector('.carousel-track');
      const images = document.querySelectorAll('.carousel-image');
      const thumbs = document.querySelectorAll('.thumbnail');
      let currentIndex = 0;

      function showSlide(index) {
        track.style.transform = `translateX(-${index * 100}%)`;
        thumbs.forEach(t => t.classList.remove('active'));
        thumbs[index].classList.add('active');
        currentIndex = index;
      }

      // Thumbnail click
      thumbs.forEach(thumb => {
        thumb.addEventListener('click', () => {
          const index = parseInt(thumb.dataset.index);
          showSlide(index);
        });
      });

      // Click left/right half
      const carousel = document.getElementById('carousel');
      carousel.addEventListener('click', (e) => {
        const rect = carousel.getBoundingClientRect();
        const x = e.clientX - rect.left;
        if (x < rect.width / 2) {
          // left
          showSlide((currentIndex - 1 + images.length) % images.length);
        } else {
          // right
          showSlide((currentIndex + 1) % images.length);
        }
      });

      // Auto-slide every 5s
      setInterval(() => {
        showSlide((currentIndex + 1) % images.length);
      }, 5000);

      showSlide(0);
    })();
  </script>
</body>
</html>
